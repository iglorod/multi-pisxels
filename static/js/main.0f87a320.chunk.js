(this["webpackJsonpmulti-pixels"]=this["webpackJsonpmulti-pixels"]||[]).push([[0],[,,,,,function(e,t,a){e.exports={title:"MovieDetails_title__1BFwj",overview:"MovieDetails_overview__1QoSj",genres:"MovieDetails_genres__3Cfb1",companies:"MovieDetails_companies__3CWci",additionalInfo:"MovieDetails_additionalInfo__KHSBi",additionalTitle:"MovieDetails_additionalTitle__2p8pm",additionalData:"MovieDetails_additionalData__1SjMw"}},,,,,,,function(e,t,a){e.exports={blackBackground:"MoviePoster_blackBackground__2URxS",imageBackground:"MoviePoster_imageBackground__Bp3VD",hidenModal:"MoviePoster_hidenModal__2IHOV",title:"MoviePoster_title__2CJlE",voteAverage:"MoviePoster_voteAverage__3iJSe",overview:"MoviePoster_overview__1o_W7",favorite:"MoviePoster_favorite__d9cER",choosed:"MoviePoster_choosed__1gO0v",favoriteIcons:"MoviePoster_favoriteIcons__I7IbN"}},function(e,t,a){e.exports={modalContainer:"ModalContainer_modalContainer__2CvXb",title:"ModalContainer_title__1pML0",text:"ModalContainer_text__1STe1",buttonsContainer:"ModalContainer_buttonsContainer__2yUN9",actionButton:"ModalContainer_actionButton__3X6HY",cancelButton:"ModalContainer_cancelButton__3sStw"}},,,function(e,t,a){e.exports={backdrop:"LatestMovie_backdrop__1vpyj",latestMovie:"LatestMovie_latestMovie__1U9o9",title:"LatestMovie_title__2zf1-",overview:"LatestMovie_overview__tjCAh",moviePoster:"LatestMovie_moviePoster__Y80or"}},,function(e,t,a){e.exports={authItem:"Authorization_authItem__1wFVL",active:"Authorization_active__2MkCl",logoutItem:"Authorization_logoutItem__pzbC_"}},,,,,function(e,t,a){e.exports=a.p+"static/media/noposter.92c38688.jpg"},function(e,t,a){e.exports={input:"Input_input__12e5q",notValidInput:"Input_notValidInput__G1L1p",notValidMessage:"Input_notValidMessage__3u6Dy"}},function(e,t,a){e.exports={submitButton:"Button_submitButton__3VsJ0",submitButtonEnabled:"Button_submitButtonEnabled__1aJln"}},,,function(e,t,a){e.exports={item:"FunctionalLink_item__3kphG",active:"FunctionalLink_active__2BezJ"}},,,function(e,t,a){e.exports={searchResultsBlock:"SearchResults_searchResultsBlock__1I4Js"}},function(e,t,a){e.exports={searchBar:"SearchBar_searchBar__2lJC4",searchBlock:"SearchBar_searchBlock__2IBhK"}},function(e,t,a){e.exports={authState:"UserAuthLinks_authState__1N6lI",email:"UserAuthLinks_email__2EH8w"}},function(e,t,a){e.exports={modal:"Modal_modal__1Z73P",hidden:"Modal_hidden__3oH8n"}},function(e,t,a){e.exports={movieBlock:"MovieBlock_movieBlock__332sL",wrapper:"MovieBlock_wrapper__2YIoG"}},function(e,t,a){e.exports={noMoviesText:"EmptyMovieState_noMoviesText__xo0p7",noMoviesImg:"EmptyMovieState_noMoviesImg__1kGku"}},function(e,t,a){e.exports={slider:"FavoriteMovieList_slider__3oUOU",favoriteMoviesTitle:"FavoriteMovieList_favoriteMoviesTitle__2QdVk"}},function(e,t,a){e.exports={slider:"FavoriteMovieSlider_slider__1Wwah",favoriteMoviesTitle:"FavoriteMovieSlider_favoriteMoviesTitle__1w_qk"}},,,,,,,,,,,,function(e,t,a){e.exports={navbar:"Navbar_navbar__3loar"}},function(e,t,a){e.exports={logo:"Logo_logo__V-OsP"}},function(e,t,a){e.exports={linksArea:"FunctionalLinks_linksArea__Aihmc"}},,,function(e,t,a){e.exports={result:"SearchResult_result__3butC"}},function(e,t,a){e.exports={empty:"EmptyResult_empty__1vr91"}},,,,function(e,t,a){e.exports={category:"AdviceCategory_category__3qSVe"}},function(e,t,a){e.exports={slider:"MoviesList_slider__3TKmn"}},function(e,t,a){e.exports={loader:"Spinner_loader__5DVww",load2:"Spinner_load2__1OPbC"}},function(e,t,a){e.exports=a.p+"static/media/pngguru1.011cd565.png"},function(e,t,a){e.exports=a.p+"static/media/New.b13e3e98.png"},function(e,t,a){e.exports={content:"MainTag_content__2fp8U"}},function(e,t,a){e.exports={signInForm:"SignIn_signInForm__2YgIB"}},function(e,t,a){e.exports={signUpForm:"SignUp_signUpForm__HalPr"}},function(e,t,a){e.exports=a.p+"static/media/sorry.35302ca0.png"},function(e,t,a){e.exports={footerInfo:"InfoBlock_footerInfo__rq5G8"}},function(e,t,a){e.exports={link:"LinkBlock_link__2-56E"}},function(e,t,a){e.exports={footerLinks:"LinksBlock_footerLinks__3lahZ"}},function(e,t,a){e.exports={imgWrapper:"MovieDBLogo_imgWrapper__24bG7"}},function(e,t,a){e.exports={footerBlock:"Footer_footerBlock__2lLd4"}},,,function(e,t,a){e.exports=a(119)},,,,,function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),i=a(21),l=a.n(i),r=(a(81),a(82),a(4)),c=a(1),s=a(2),u=a.n(s),m=o.a.createContext({isAuth:!1,signIn:function(){},signUp:function(){},signInByLocalData:function(){},refreshToken:function(){},logout:function(){}}),v=a(14),d=a(50),p=a.n(d),f=a(51),g=a.n(f),h=function(){return o.a.createElement("div",{className:g.a.logo},o.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",width:"200",height:"40",viewBox:"0 0 300 81.387"},o.a.createElement("g",{fill:"#b81d24"},o.a.createElement("path",{d:"M256.09 76.212c4.178.405 8.354.84 12.52 1.29l9.198-22.712 8.743 24.807c4.486.562 8.97 1.152 13.44 1.768l-15.328-43.501L299.996 0H287.01l-.135.186-8.283 20.455L271.32.003h-12.822l13.237 37.565-15.644 38.644zM246.393 75.322V0h-12.817v74.265c4.275.33 8.552.684 12.817 1.056M150.113 71.11c3.46 0 6.916.026 10.366.054V43.492h15.397V31.708H160.48v-19.91h17.733V0h-30.6v71.12c.831 0 1.666-.013 2.5-.01M110.319 71.83c4.27-.152 8.544-.28 12.824-.384V11.8h11.98V.003H98.339V11.8h11.982v60.03h-.002zM12.295 79.772V34.897L27.471 77.96c4.667-.524 9.341-1.017 14.028-1.483V.001H29.201v46.483L12.825.001H0v81.384h.077c4.063-.562 8.14-1.096 12.218-1.613M85.98 11.797V.001H55.377V75.202a1100.584 1100.584 0 0 1 30.578-2.211V61.184c-5.916.344-11.82.74-17.71 1.181V43.497h15.397V31.706H68.245V11.797H85.98zM203.614 60.62V-.003h-12.873v71.876c10.24.376 20.44.9 30.606 1.56V61.619c-5.9-.381-11.81-.712-17.733-1"}))))},_=a(52),E=a.n(_),b=a(28),k=a.n(b),M=function(e){return o.a.createElement(r.c,{className:k.a.item,to:e.url,activeClassName:k.a.active,exact:!0},e.children)},N=function(){var e=Object(n.useContext)(m),t=o.a.createElement(o.a.Fragment,null,o.a.createElement(M,{url:"/"},"Top picks"),o.a.createElement(M,{url:"/my-list"},"My list"));return e.isAuth||(t=o.a.createElement(M,{url:"/"},"Top picks")),o.a.createElement("div",{className:E.a.linksArea},t)},I=a(6),x=a(55),y=a.n(x),S=function(e){return o.a.createElement(r.b,{to:{pathname:"/movie",state:{movieId:e.movie.id}}},o.a.createElement("div",{className:y.a.result},e.movie.title))},j=a(56),w=a.n(j),O=function(){return o.a.createElement("div",{className:w.a.empty},"No results")},B=a(31),T=a.n(B),C=function(e){return e.empty?o.a.createElement("div",{className:T.a.searchResultsBlock},o.a.createElement(O,null)):0===e.movies.length?null:o.a.createElement("div",{className:T.a.searchResultsBlock,onClick:e.clearList},e.movies.map((function(e){return o.a.createElement(S,{key:e.id,movie:e})})))},V="9a709fd5f22444612e3adac728d5e164",L=a(32),A=a.n(L),F=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],l=null,r=function(e){clearTimeout(l);var t=e.target.value;0!==t.length?l=setTimeout((function(){t.length>2&&s(t)}),1500):m()},s=function(e){u.a.get("https://api.themoviedb.org/3/search/movie?api_key="+V+"&language=en-US&query="+e+"&page=1&include_adult=true").then((function(e){var t=e.data.results.slice(0,5);0===t.length?i("empty"):i(Object(I.a)(t))}))},m=function(){i([])},v=o.a.createElement(C,{empty:!0});return"empty"!==a&&(v=o.a.createElement(C,{movies:a,clearList:m})),o.a.createElement("div",{className:A.a.searchBlock},o.a.createElement("form",null,o.a.createElement("input",{className:A.a.searchBar,onFocus:r,onBlur:function(){return setTimeout(m,100)},onInput:r,placeholder:"Search for a title..."}),v))},H=a(18),P=a.n(H),R=function(e){return o.a.createElement(r.c,{className:P.a.authItem,to:e.url,activeClassName:P.a.active},e.children)},U=function(e){return o.a.createElement("div",{className:P.a.logoutItem,onClick:e.logout},e.children)},Z=a(33),D=a.n(Z),q=a(13),W=a.n(q),z=function(e){var t=o.a.createElement("div",{className:W.a.buttonsContainer},o.a.createElement("button",{onClick:e.close,className:W.a.closeButton},"Cancel"));return e.button&&(t=o.a.createElement("div",{className:W.a.buttonsContainer},o.a.createElement("button",{onClick:e.button.action,className:W.a.actionButton},e.button.text),o.a.createElement("button",{onClick:e.close,className:W.a.cancelButton},"Cancel"))),o.a.createElement("div",{className:W.a.modalContainer},o.a.createElement("h2",{className:W.a.title},e.title),o.a.createElement("div",{className:W.a.text},e.text),t)},G=a(34),J=a.n(G),Q=function(e){var t=[J.a.modal];return!1===e.show&&t.push(J.a.hidden),o.a.createElement("div",{className:t.join(" ")},o.a.createElement(z,Object.assign({},e,{close:e.cancel})))},X=function(){var e=Object(n.useContext)(m),t=Object(n.useState)(!1),a=Object(c.a)(t,2),i=a[0],l=a[1],r=o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{url:"/sign-in"},"Sing In"),o.a.createElement(R,{url:"/sign-up"},"Sign Up"));return e.isAuth&&(r=o.a.createElement(U,{logout:function(){l(!0)}},o.a.createElement("p",{className:D.a.email},localStorage.getItem("email"))," (Logout)")),o.a.createElement("div",{className:D.a.authState},o.a.createElement(Q,{show:i,title:"Are you sure?",text:"After you log out you will not be able to pick your favorite movies",button:{text:"Logout",action:function(){l(!1),localStorage.clear(),e.logout()}},cancel:function(){l(!1)}}),r)},Y=function(){return o.a.createElement("header",{className:p.a.navbar},o.a.createElement(h,null),o.a.createElement(N,null),o.a.createElement(F,null),o.a.createElement(X,null))},K=a(57),$=a(58),ee=a(74),te=a(59),ae=a(75),ne=a(60),oe=a.n(ne),ie=function(e){var t=e.category.split("_");return t[0]=t[0][0].toUpperCase()+t[0].slice(1),o.a.createElement("div",{className:oe.a.category},t.join(" "))},le=a(22),re=a.n(le),ce=a(61),se=a.n(ce),ue=a(12),me=a.n(ue),ve=function(e){var t=Object(n.useContext)(m),a={backgroundImage:"url(https://image.tmdb.org/t/p/w500/"+e.url+")"},i=o.a.createElement("div",{className:e.isFavorite?me.a.choosed:me.a.favorite,onClick:e.favoriteClick},o.a.createElement("div",{className:me.a.favoriteIcons},o.a.createElement("ion-icon",{name:"add"}),o.a.createElement("ion-icon",{name:"checkmark"})));return t.isAuth||(i=null),o.a.createElement("div",{className:me.a.blackBackground},o.a.createElement("div",{style:a,className:me.a.imageBackground},o.a.createElement("div",{className:me.a.hidenModal},o.a.createElement(r.b,{to:{pathname:"/movie",state:{movieId:e.movie_id}}},o.a.createElement("div",{className:me.a.title},o.a.createElement("p",null,e.title))),o.a.createElement("div",{className:me.a.voteAverage},e.vote_average.toFixed(1),"/10"),o.a.createElement("div",{className:me.a.overview},e.overview),i)))},de=function(e){return o.a.createElement("div",{className:se.a.slider},o.a.createElement(re.a,{infinite:!0,speed:500,slidesToShow:5,slidesToScroll:3},e.data.map((function(t){return o.a.createElement("div",{key:t.id},o.a.createElement(ve,{url:t.backdrop_path,title:t.title,overview:t.overview,vote_average:t.vote_average,movie_id:t.id,isFavorite:e.favorite.includes(t.id),favoriteClick:function(){return e.onFavoriteClick(t.id)}}))}))))},pe=function(e){return o.a.createElement("div",{style:{zIndex:"200",padding:"20px 0px"}},o.a.createElement(ie,{category:e.data.category}),o.a.createElement(de,{data:e.data.movies,favorite:e.favoriteMovies,onFavoriteClick:e.data.favoriteClickHandler}))},fe=a(62),ge=a.n(fe),he=function(){return o.a.createElement("div",{className:ge.a.loader})},_e={popular:"https://api.themoviedb.org/3/movie/popular?api_key="+V+"&language=en-US&page=1",now_playing:"https://api.themoviedb.org/3/movie/now_playing?api_key="+V+"&language=en-US&page=1",top_rated:"https://api.themoviedb.org/3/movie/top_rated?api_key="+V+"&language=en-US&page=1",upcoming:"https://api.themoviedb.org/3/movie/upcoming?api_key="+V+"&language=en-US&page=1"},Ee=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)([]),r=Object(c.a)(l,2),s=r[0],v=r[1],d=Object(n.useState)(!1),p=Object(c.a)(d,2),f=p[0],g=p[1],h=Object(n.useContext)(m),_=function(){var e=function(e){u.a.get(_e[e]).then((function(t){var a={category:e,movies:t.data.results,favoriteClickHandler:E};i((function(e){return[].concat(Object(I.a)(e),[a])})),g(!1)})).catch((function(e){return console.error(e)}))};for(var t in _e)e(t)};Object(n.useEffect)((function(){if(h.isAuth){var e="?auth="+localStorage.getItem("idToken")+'&orderBy="userId"&equalTo="'+localStorage.getItem("id")+'"';u.a.get("https://multipixels-df150.firebaseio.com/favorite.json/"+e).then((function(e){var t=Object.values(e.data).map((function(e){return e.movieId}));v(Object(I.a)(t)),0===a.length&&_()})).catch((function(e){return console.error(e)}))}else 0===a&&_()}),[h.isAuth]);var E=function(e){var t="?auth="+localStorage.getItem("idToken")+'&orderBy="userId"&equalTo="'+localStorage.getItem("id")+'"';u.a.get("https://multipixels-df150.firebaseio.com/favorite.json/"+t).then((function(t){for(var a=[],n=0,o=Object.values(t.data);n<o.length;n++){var i=o[n];a.push(i)}!0===a.reduce((function(t,a){return a.movieId===e||t}),!1)?b(t.data,e):k(e)})).catch((function(e){return console.log(e)}))},b=function(e,t){var a=null;for(var n in e)if(e[n].movieId===t){a=n;break}var o="?auth="+localStorage.getItem("idToken");u.a.delete("https://multipixels-df150.firebaseio.com/favorite/"+a+".json/"+o).then((function(){v((function(e){var a=Object(I.a)(e),n=a.indexOf(t);return a.splice(n,1),Object(I.a)(a)}))}))},k=function(e){var t={movieId:e,userId:localStorage.getItem("id")};u.a.post("https://multipixels-df150.firebaseio.com/favorite.json?auth="+localStorage.getItem("idToken"),t).then((function(){v((function(t){return[].concat(Object(I.a)(t),[e])}))}))};return f?o.a.createElement(he,null):o.a.createElement(o.a.Fragment,null,a.map((function(e){return o.a.createElement(pe,{key:e.category,data:e,favoriteMovies:s})})))},be=a(16),ke=a.n(be),Me=a(63),Ne=a.n(Me),Ie=a(64),xe=a.n(Ie),ye=a(23),Se=a.n(ye),je=function(){var e=Object(n.useState)(),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)(!0),s=Object(c.a)(l,2),m=s[0],v=s[1];if(Object(n.useEffect)((function(){u.a.get("https://api.themoviedb.org/3/movie/latest?api_key="+V+"&language=en-US").then((function(e){i(e.data),v(!1)}))}),[]),m)return o.a.createElement(he,null);var d="https://image.tmdb.org/t/p/w400"+a.poster_path;return null===a.poster_path&&(d=Se.a),o.a.createElement("div",{className:ke.a.latestMovie},o.a.createElement("img",{src:Ne.a,className:ke.a.backdrop,alt:"backdrop"}),o.a.createElement("div",null,o.a.createElement(r.b,{to:{pathname:"/movie",state:{movieId:a.id}}},o.a.createElement("div",{className:ke.a.title},a.original_title)),o.a.createElement("div",{className:ke.a.overview},a.overview)),o.a.createElement("div",{className:ke.a.moviePoster},o.a.createElement(r.b,{to:{pathname:"/movie",state:{movieId:a.id}}},o.a.createElement("img",{src:d,alt:"movie poster"})),o.a.createElement("img",{src:xe.a,alt:"NEW"})))},we=a(65),Oe=a.n(we),Be=function(e){return o.a.createElement("main",{className:Oe.a.content},e.children)},Te=function(e){function t(){return Object(K.a)(this,t),Object(ee.a)(this,Object(te.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object($.a)(t,[{key:"render",value:function(){return o.a.createElement(Be,null,o.a.createElement(je,null),o.a.createElement(Ee,null))}}]),t}(n.Component),Ce=a(11),Ve=a(66),Le=a.n(Ve),Ae=a(24),Fe=a.n(Ae),He=function(e){var t=[Fe.a.input];return!e.isValid&&e.isTouched&&t.push(Fe.a.notValidInput),o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:t.join(" "),type:e.config.type,placeholder:e.config.placeholder,value:e.value,onChange:e.onChangeHandler,onFocus:e.onTouchedHandler}),o.a.createElement("p",{className:Fe.a.notValidMessage},e.validationMessage))},Pe=a(25),Re=a.n(Pe),Ue=function(e){return e.allIsValid?o.a.createElement("button",{className:Re.a.submitButton+" "+Re.a.submitButtonEnabled},e.text):o.a.createElement("button",{className:Re.a.submitButton,disabled:!0},e.text)},Ze=function(e,t,a){return e||0!==a.length?a:t},De=function(e,t,a){var n=!0,o="";if(t.isRequred&&(n=e.length>0&&n,o=Ze(n,"Please, fill this field",o)),t.isEmail){n=/^\S+@\S+\.\S+$/.test(e)&&n,o=Ze(n,"Email is incorrect",o)}return t.minLength&&(n=e.length>3&&n,o=Ze(n,"Min password length is 4 symbols",o)),t.shoudBeEqual&&(o=Ze(n=e===a&&n,"Passwords should be the same",o)),[n,o]},qe=function(e){var t=Object(n.useContext)(m),a=Object(n.useState)({email:{config:{type:"email",placeholder:"Email"},validationRules:{isRequred:!0,isEmail:!0},isTouched:!1,isValid:!1,validationMessage:"",value:""},password:{config:{type:"password",placeholder:"Password"},validationRules:{isRequred:!0,minLength:!0},isTouched:!1,isValid:!1,validationMessage:"",value:""}}),i=Object(c.a)(a,2),l=i[0],r=i[1],s=function(e,t){var a=Object(Ce.a)({},l),n=t.target.value,o=l[e].validationRules,i=De(t.target.value,o),s=Object(c.a)(i,2),u=s[0],m=s[1];a[e].value=n,a[e].isValid=u,a[e].validationMessage=m,r(Object(Ce.a)({},a))},u=function(e,t){var a=Object(Ce.a)({},l),n=l[e].validationRules,o=De(t.target.value,n),i=Object(c.a)(o,2),s=i[0],u=i[1];a[e].isTouched=!0,a[e].validationMessage=u,a[e].isValid=s,r(Object(Ce.a)({},a))},v=[],d=!0;for(var p in l)v.push(o.a.createElement(He,{key:p,config:l[p].config,value:l[p].value,isValid:l[p].isValid,isTouched:l[p].isTouched,onTouchedHandler:u.bind(void 0,p),validationMessage:l[p].validationMessage,onChangeHandler:s.bind(void 0,p)})),d=l[p].isValid&&d;return o.a.createElement(Be,null,o.a.createElement("form",{className:Le.a.signInForm,onSubmit:function(a){a.preventDefault();var n={email:l.email.value,password:l.password.value,returnSecureToken:!0};new Promise((function(e,a){t.signIn(n,e,a)})).then((function(){return e.history.push("/")}),(function(e){return console.error(e.message)}))}},v,o.a.createElement(Ue,{text:"Sign In",allIsValid:d})))},We=a(67),ze=a.n(We),Ge=function(e){var t=Object(n.useContext)(m),a=Object(n.useState)({email:{config:{type:"email",placeholder:"Email"},validationRules:{isRequred:!0,isEmail:!0},isTouched:!1,isValid:!1,validationMessage:"",value:""},password_original:{config:{type:"password",placeholder:"Password"},validationRules:{isRequred:!0,minLength:!0},isTouched:!1,isValid:!1,validationMessage:"",value:""},password_repeat:{config:{type:"password",placeholder:"Repeat password"},validationRules:{isRequred:!0,minLength:!0,shoudBeEqual:!0},isTouched:!1,isValid:!1,validationMessage:"",value:""}}),i=Object(c.a)(a,2),l=i[0],r=i[1],s=function(e,t){var a=Object(Ce.a)({},l),n=t.target.value,o=l[e].validationRules,i=l.password_original.value,s=De(t.target.value,o,i),u=Object(c.a)(s,2),m=u[0],v=u[1];a[e].value=n,a[e].isValid=m,a[e].validationMessage=v,r(Object(Ce.a)({},a))},u=function(e,t){var a=Object(Ce.a)({},l),n=l[e].validationRules,o=l.password_original.value,i=De(t.target.value,n,o),s=Object(c.a)(i,2),u=s[0],m=s[1];a[e].isTouched=!0,a[e].validationMessage=m,a[e].isValid=u,r(Object(Ce.a)({},a))},v=[],d=!0;for(var p in l)v.push(o.a.createElement(He,{key:p,config:l[p].config,value:l[p].value,isValid:l[p].isValid,isTouched:l[p].isTouched,onTouchedHandler:u.bind(void 0,p),validationMessage:l[p].validationMessage,onChangeHandler:s.bind(void 0,p)})),d=l[p].isValid&&d;return o.a.createElement(Be,null,o.a.createElement("form",{className:ze.a.signUpForm,onSubmit:function(a){a.preventDefault();var n={email:l.email.value,password:l.password_original.value,returnSecureToken:!0};new Promise((function(e,a){t.signUp(n,e,a)})).then((function(){return e.history.push("/")}),(function(e){return console.error(e.message)}))}},v,o.a.createElement(Ue,{text:"Sign Up",allIsValid:d})))},Je=a(5),Qe=a.n(Je),Xe=function(e){var t=0;if(0!==e.movie.revenue&&null!==e.movie.revenue)for(t=(""+e.movie.revenue).split("").map((function(e,t){return(t+1)%3?e:e+" "})).join("");t.length%3!==0;)t+="0";return o.a.createElement("div",{className:Qe.a.movieDetails},o.a.createElement("div",{className:Qe.a.title},e.movie.original_title),o.a.createElement("div",{className:Qe.a.overview},e.movie.overview),o.a.createElement("div",{className:Qe.a.genres},e.movie.genres.map((function(t,a){return a+1===e.movie.genres.length?t.name:t.name+", "}))),o.a.createElement("div",{className:Qe.a.companies},e.movie.production_companies.map((function(t,a){return a+1===e.movie.production_companies.length?t.name:t.name+", "}))),o.a.createElement("div",{className:Qe.a.additionalInfo},o.a.createElement("div",null,o.a.createElement("div",{className:Qe.a.additionalTitle},"Original Release:"),o.a.createElement("div",{className:Qe.a.additionalData},e.movie.release_date)),o.a.createElement("div",null,o.a.createElement("div",{className:Qe.a.additionalTitle},"Running Time:"),o.a.createElement("div",{className:Qe.a.additionalData},e.movie.runtime," mins"))),o.a.createElement("div",{className:Qe.a.additionalInfo},o.a.createElement("div",null,o.a.createElement("div",{className:Qe.a.additionalTitle},"Box Office:"),o.a.createElement("div",{className:Qe.a.additionalData},"$",t)),o.a.createElement("div",null,o.a.createElement("div",{className:Qe.a.additionalTitle},"Vote Average:"),o.a.createElement("div",{className:Qe.a.additionalData},e.movie.vote_average.toFixed(1),"/10"))))},Ye=a(35),Ke=a.n(Ye),$e=function(e){var t="https://image.tmdb.org/t/p/w500/"+e.movie.poster_path;return null===e.movie.poster_path&&(t=Se.a),o.a.createElement("div",{className:Ke.a.wrapper},o.a.createElement("div",{className:Ke.a.movieBlock},o.a.createElement("div",null,o.a.createElement("img",{src:t,alt:"poster"})),o.a.createElement(Xe,{movie:e.movie})))},et=function(e){var t=Object(n.useState)(null),a=Object(c.a)(t,2),i=a[0],l=a[1];if(Object(n.useEffect)((function(){var t=e.location.state.movieId;u.a.get("https://api.themoviedb.org/3/movie/"+t+"?api_key="+V+"&language=en-US").then((function(e){l(e.data)}))}),[e.location.state.movieId]),null!==i){var r={background:"black",backgroundImage:"url(https://image.tmdb.org/t/p/original/"+i.backdrop_path+")",backgroundSize:"cover",height:"100%",paddingBottom:"200px"};return o.a.createElement("div",{style:r},o.a.createElement($e,{movie:i}))}return o.a.createElement(he,null)},tt=a(68),at=a.n(tt),nt=a(36),ot=a.n(nt),it=function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement("img",{src:at.a,className:ot.a.noMoviesImg,alt:"sorry img"}),o.a.createElement("div",{className:ot.a.noMoviesText},"Your favorite movie list is empty"))},lt=a(37),rt=a.n(lt),ct=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:rt.a.favoriteMoviesTitle}," Your favorite movies"),o.a.createElement("div",{className:rt.a.slider},o.a.createElement("div",{style:{display:"flex",justifyContent:"flex-start"}},e.movies.map((function(t){return o.a.createElement("div",{key:t.id,style:{width:"20%"}},o.a.createElement(ve,{url:t.backdrop_path,title:t.title,overview:t.overview,vote_average:t.vote_average,movie_id:t.id,isFavorite:e.favoriteMoviesIds.includes(t.id),favoriteClick:function(){return e.favoriteClickHandler(t.id)}}))})))))},st=a(38),ut=a.n(st),mt=function(e){return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:ut.a.favoriteMoviesTitle}," Your favorite movies"),o.a.createElement("div",{className:ut.a.slider},o.a.createElement(re.a,{infinite:!0,speed:500,slidesToShow:5,slidesToScroll:3},e.movies.map((function(t){return o.a.createElement("div",{key:t.id},o.a.createElement(ve,{url:t.backdrop_path,title:t.title,overview:t.overview,vote_average:t.vote_average,movie_id:t.id,isFavorite:e.favoriteMoviesIds.includes(t.id),favoriteClick:function(){return e.favoriteClickHandler(t.id)}}))})))))},vt=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],i=t[1],l=Object(n.useState)([]),r=Object(c.a)(l,2),s=r[0],m=r[1];Object(n.useEffect)((function(){var e="?auth="+localStorage.getItem("idToken")+'&orderBy="userId"&equalTo="'+localStorage.getItem("id")+'"';u.a.get("https://multipixels-df150.firebaseio.com/favorite.json/"+e).then((function(e){var t=Object.values(e.data).map((function(e){return e.movieId}));i(Object(I.a)(t)),0!==t.length?v(t):m("empty")})).catch((function(e){return console.error(e)}))}),[]);var v=function(e){e.map((function(e){return u.a.get("https://api.themoviedb.org/3/movie/"+e+"?api_key="+V+"&language=en-US").then((function(e){return m((function(t){return[].concat(Object(I.a)(t),[e.data])}))}))}))},d=function(e){var t="?auth="+localStorage.getItem("idToken")+'&orderBy="userId"&equalTo="'+localStorage.getItem("id")+'"';u.a.get("https://multipixels-df150.firebaseio.com/favorite.json/"+t).then((function(t){p(t.data,e)})).catch((function(e){return console.log(e)}))},p=function(e,t){var a=null;for(var n in e)if(e[n].movieId===t){a=n;break}var o="?auth="+localStorage.getItem("idToken");u.a.delete("https://multipixels-df150.firebaseio.com/favorite/"+a+".json/"+o).then((function(){f(t)}))},f=function(e){var t=Object(I.a)(a),n=a.indexOf(e);t.splice(n,1),i(Object(I.a)(t));for(var o=0;o<s.length;o++)if(s[o].id===e){var l=Object(I.a)(s);l.splice(o,1),0===l.length?m("empty"):m(Object(I.a)(l));break}};return"empty"===s?o.a.createElement(it,null):0===s.length?o.a.createElement(he,null):s.length>5?o.a.createElement(mt,{movies:s,favoriteMoviesIds:a,favoriteClickHandler:d}):o.a.createElement(ct,{movies:s,favoriteMoviesIds:a,favoriteClickHandler:d})},dt=function(){return Object(n.useContext)(m).isAuth?o.a.createElement(Be,null,o.a.createElement(je,null),o.a.createElement(vt,null)):o.a.createElement(v.a,{to:"/"})},pt=a(69),ft=a.n(pt),gt=function(){return o.a.createElement("div",{className:ft.a.footerInfo},o.a.createElement("div",null,"Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur."))},ht=a(70),_t=a.n(ht),Et=function(e){return o.a.createElement(r.b,{to:"#"},o.a.createElement("li",{className:_t.a.link},e.text))},bt=a(71),kt=a.n(bt),Mt=function(){return o.a.createElement("div",{className:kt.a.footerLinks},o.a.createElement("ul",null,o.a.createElement(Et,{text:"Id leo in vitae turpis"}),o.a.createElement(Et,{text:"Eros donec ac odio tempor"}),o.a.createElement(Et,{text:"Budget lorem dolor sed"})))},Nt=a(72),It=a.n(Nt),xt=function(){return o.a.createElement("div",{className:It.a.imgWrapper,onClick:function(){window.open("https://www.themoviedb.org/","_blank")}},o.a.createElement("svg",{xmlns:"https://www.w3.org/2000/svg",id:"Layer_1","data-name":"Layer 1",viewBox:"0 0 407.34 160.81",className:"mdl-js"},o.a.createElement("g",{fill:"#b81d24"},o.a.createElement("title",null,"PoweredByRectangle_Green"),o.a.createElement("polygon",{className:"cls-1",points:"50.38 102.47 57.32 102.47 57.32 74.71 65.96 74.71 65.96 67.82 41.74 67.82 41.74 74.71 50.38 74.71 50.38 102.47"}),o.a.createElement("polygon",{className:"cls-1",points:"88.53 102.47 95.47 102.47 95.47 67.77 88.53 67.77 88.53 81.65 78.14 81.65 78.14 67.77 71.2 67.77 71.2 102.47 78.14 102.47 78.14 88.59 88.53 88.59 88.53 102.47"}),o.a.createElement("polygon",{className:"cls-1",points:"121.25 95.53 108.23 95.53 108.23 88.59 119.35 88.59 119.35 81.65 108.23 81.65 108.23 74.71 120.66 74.71 120.66 67.77 101.28 67.77 101.28 102.47 121.25 102.47 121.25 95.53"}),o.a.createElement("polygon",{className:"cls-1",points:"157.79 82.54 144.1 67.3 141.87 67.3 141.87 102.54 148.9 102.54 148.9 83.17 157.79 92.49 166.67 83.17 166.62 102.54 173.66 102.54 173.66 67.3 171.47 67.3 157.79 82.54"}),o.a.createElement("path",{className:"cls-1",d:"M3309.1,1841.93c-23.88,0-23.88,35.77,0,35.77S3333,1841.93,3309.1,1841.93Zm0,28.59c-13.88,0-13.88-21.45,0-21.45S3323,1870.52,3309.1,1870.52Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("rect",{className:"cls-1",x:"254.5",y:"67.83",width:"6.94",height:"34.7"}),o.a.createElement("polygon",{className:"cls-1",points:"274.19 95.6 274.19 88.66 285.32 88.66 285.32 81.72 274.19 81.72 274.19 74.78 286.63 74.78 286.63 67.83 267.25 67.83 267.25 102.54 287.21 102.54 287.21 95.6 274.19 95.6"}),o.a.createElement("path",{className:"cls-1",d:"M3429.48,1842.91h-10.34v34.7h10.34C3452.58,1877.61,3452.58,1842.91,3429.48,1842.91Zm0,27.76h-3.4v-20.82h3.4C3443,1849.85,3443,1870.67,3429.48,1870.67Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3472.7,1860.23c2.18-1.5,3.11-4.22,3.2-6.84,0.15-6.12-3.69-10.53-9.85-10.53h-13.74v34.75H3466a10.32,10.32,0,0,0,10.24-10.44A8.43,8.43,0,0,0,3472.7,1860.23Zm-13.4-10.44h6.17a3.51,3.51,0,0,1,0,7h-6.17v-7Zm6.17,20.87h-6.17v-6.94h6.17a3.41,3.41,0,0,1,3.49,3.45A3.45,3.45,0,0,1,3465.47,1870.67Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("polygon",{className:"cls-1",points:"233.13 86.57 224 67.83 215.99 67.83 232.36 103.27 233.91 103.27 250.28 67.83 242.27 67.83 233.13 86.57"}),o.a.createElement("path",{className:"cls-1",d:"M3494.78,1920.93c14.6,0,24.48-9.88,24.48-24.48v-97.28c0-14.6-9.88-24.48-24.48-24.48H3136.41c-14.6,0-24.48,9.88-24.48,24.48V1935.5l12.56-14.56h0V1799.17a11.94,11.94,0,0,1,11.92-11.92h358.37a11.94,11.94,0,0,1,11.92,11.92v97.28a11.94,11.94,0,0,1-11.92,11.92H3155l-12.56,12.56-0.08-.1Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3154.3,1827.53v-15h5.9c5.84,0,5.82,9.26,0,9.26h-2.9v5.73h-3Zm5.65-8.65c2,0,2-3.36,0-3.36h-2.65v3.36h2.65Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3176.07,1812.27c10.33,0,10.33,15.47,0,15.47S3165.74,1812.27,3176.07,1812.27Zm0,3.09c-6,0-6,9.28,0,9.28S3182.08,1815.35,3176.07,1815.35Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3193.12,1827.85l-6.15-15.33h3.38l3,7.66,2.94-7.52h0.15l2.94,7.52,3-7.66h3.38l-6.13,15.26h-0.55l-2.75-6.66-2.73,6.72h-0.52Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3209.53,1827.53v-15H3217v3h-4.51v3h3.95v3h-3.95v3h4.77v3h-7.77Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3229.47,1827.53l-3-5.73H3225v5.73h-3v-15h5.92c5.35,0,5.88,7.54,1.47,8.82l3.49,6.19h-3.4Zm-4.47-8.65h2.65c2,0,2-3.36,0-3.36H3225v3.36Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3236.76,1827.53v-15h7.52v3h-4.51v3h3.95v3h-3.95v3h4.77v3h-7.77Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3253.71,1827.53h-4.47v-15h4.47C3263.7,1812.52,3263.7,1827.53,3253.71,1827.53Zm-1.47-12v9h1.47c5.84,0,5.84-9,0-9h-1.47Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3291.89,1820.77l-5.23-8.25h3.65l3.07,5.17,3.07-5.17h3.67l-5.25,8.25v6.76h-3v-6.76Z",transform:"translate(-3111.93 -1774.68)"}),o.a.createElement("path",{className:"cls-1",d:"M3282.58,1820.18a3.68,3.68,0,0,0,1.39-3,4.13,4.13,0,0,0-4.26-4.56h-5.94v15h5.94a4.46,4.46,0,0,0,4.43-4.51A3.65,3.65,0,0,0,3282.58,1820.18Zm-5.79-4.51h2.67a1.52,1.52,0,0,1,0,3h-2.67v-3Zm2.67,9h-2.67v-3h2.67a1.47,1.47,0,0,1,1.51,1.49A1.49,1.49,0,0,1,3279.45,1824.7Z",transform:"translate(-3111.93 -1774.68)"}))))},yt=a(73),St=a.n(yt),jt=function(){return o.a.createElement("footer",{className:St.a.footerBlock},o.a.createElement(xt,null),o.a.createElement(gt,null),o.a.createElement(Mt,null))},wt=function(){return o.a.createElement("div",null,o.a.createElement(Y,null),o.a.createElement(v.d,null,o.a.createElement(v.b,{path:"/sign-in",component:qe,exact:!0}),o.a.createElement(v.b,{path:"/sign-up",component:Ge,exact:!0}),o.a.createElement(v.b,{path:"/movie",component:et,exact:!0}),o.a.createElement(v.b,{path:"/my-list",component:dt,exact:!0}),o.a.createElement(v.b,{path:"/",component:Te})),o.a.createElement(jt,null))};var Ot=function(){var e=Object(n.useContext)(m);return Object(n.useEffect)((function(){if(null!==localStorage.getItem("refreshToken")){var t=localStorage.getItem("expiresIn");+Math.floor((new Date).getTime()/1e3)>=t?e.refreshToken():e.signInByLocalData()}}),[]),o.a.createElement(r.a,null,o.a.createElement("div",{className:"App"},o.a.createElement(wt,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement((function(e){var t=Object(n.useState)(!1),a=Object(c.a)(t,2),i=a[0],l=a[1],r=Object(n.useState)(null),s=Object(c.a)(r,2),v=s[0],d=s[1],p=function(e){h(1e3*+e.expires_in);var t=Math.floor((new Date).getTime()/1e3)+ +e.expiresIn;localStorage.setItem("email",e.email),localStorage.setItem("id",e.localId),localStorage.setItem("idToken",e.idToken),localStorage.setItem("refreshToken",e.refreshToken),localStorage.setItem("expiresIn",t),l(!0)},f=function(){l(5===localStorage.length)},g=function(){var e={grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")};u.a.post("https://securetoken.googleapis.com/v1/token?key=AIzaSyBNs1_WBfiLcb2MgQQGccWK1yZPXxnXN7E",e).then((function(e){var t=e.data;h(1e3*+t.expires_in);var a=Math.floor((new Date).getTime()/1e3)+ +t.expires_in;localStorage.setItem("idToken",t.id_token),localStorage.setItem("refreshToken",t.refresh_token),localStorage.setItem("expiresIn",a),f()}))},h=function(e){clearTimeout(v);var t=setTimeout(g,e);d(t)},_={isAuth:i,signIn:function(e,t,a){u.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyBNs1_WBfiLcb2MgQQGccWK1yZPXxnXN7E",e).then((function(e){p(e.data),t()})).catch((function(e){a(e)}))},signUp:function(e,t,a){u.a.post("https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyBNs1_WBfiLcb2MgQQGccWK1yZPXxnXN7E",e).then((function(e){p(e.data),t()})).catch((function(e){a(e)}))},signInByLocalData:f,refreshToken:g,logout:function(){l(!1)}};return o.a.createElement(m.Provider,{value:_},e.children)}),null,o.a.createElement(Ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[76,1,2]]]);
//# sourceMappingURL=main.0f87a320.chunk.js.map